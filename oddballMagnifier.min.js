/** The Oddball Magnifier v0.0.2 */
!function(t){jQuery.fn.oddballMagnifier=function(o){var e=!1,a={lens:340,curve:340,spread:20,shadow:.1,zoom:1920,border:8,inset:!1,borderColor:"255,255,255",shadowColor:"0,0,0"};return o&&t.extend(a,o),this.each(function(){function o(o,e,n){var d=a.lens/2,s=n.offset().top,i=n.offset().left,h=parseInt(n.attr("data-width")),c=parseInt(n.attr("data-height"));(i>o||o>i+h||s>e||e>s+c)&&(l=!1,r=!1,n=!1,t(".oddball-lens").hide());var u=100/h*(o-i)+"% "+100/c*(e-s)+"%";t(".oddball-lens").css({top:e-d+"px",left:o-d+"px","background-position":u})}var n,d,s,i,r,h,n=t(this),l=!1;n.length&&(t(this).attr("data-width",t(this).width()),t(this).attr("data-height",t(this).height()),e||(e=!0,t("body").append('<div class="oddball-lens"></div>')),h=a.inset?"inset ":"",t(".oddball-lens").css({position:"absolute",top:"0",left:"0","z-index":"9999",width:a.lens+"px",height:a.lens+"px","background-clip":"border-box","border-radius":a.curve+"px",border:a.border+"px solid rgba("+a.borderColor+",0.4)",background:"#eee no-repeat 0 0","background-size":a.zoom+"px","box-shadow":h+"0 0 "+a.spread+"px rgba("+a.shadowColor+","+a.shadow+")","box-sizing":"border-box",cursor:"none",display:"none"}),t(window).on("load scroll resize",function(){n.each(function(){t(this).attr("data-width",t(this).width()),t(this).attr("data-height",t(this).height())})}),n.on("mouseenter touchstart",function(){r=!0,d=t(this),i=t(this).attr("data-hdsrc"),s="undefined"!=typeof i&&i!==!1?t(this).attr("data-hdsrc"):t(this).attr("src"),t(".oddball-lens").css("background-image","url("+s+")"),t(".oddball-lens").stop().show()}),n.on("touchstart",function(){l=!0}),t(window).on("touchstart touchmove mousemove",function(t){r&&(l?(x=t.originalEvent.touches[0].pageX,y=t.originalEvent.touches[0].pageY):(x=t.pageX,y=t.pageY),o(x,y,d))}),t(window).on("touchend",function(){l=!1,r=!1,d=!1,t(".oddball-lens").hide()}))})}}(jQuery);
