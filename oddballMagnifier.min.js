/** The Oddball Magnifier v0.0.2 */
!function(t){jQuery.fn.oddballMagnifier=function(o){function e(o,e,a){var d=n.lens/2,s=a.offset().top,r=a.offset().left,i=parseInt(a.attr("data-width")),h=parseInt(a.attr("data-height"));(r>o||o>r+i||s>e||e>s+h)&&(touch=!1,over=!1,a=!1,t(".oddball-lens").hide());var l=100/i*(o-r)+"% "+100/h*(e-s)+"%";t(".oddball-lens").css({top:e-d+"px",left:o-d+"px","background-position":l})}var a=!1,n={lens:340,curve:340,spread:20,shadow:.1,zoom:1920,border:8,inset:!1,borderColor:"255,255,255",shadowColor:"0,0,0"};return o&&t.extend(n,o),this.each(function(){var o,d,s,r,i,h,l,c=t(this),u=!1;c.length&&(t(this).attr("data-width",t(this).width()),t(this).attr("data-height",t(this).height()),a||(a=!0,t("body").append("<div class='oddball-lens'></div>")),i=n.inset?"inset ":"",t(".oddball-lens").css({position:"absolute",top:"0",left:"0","z-index":"9999",width:n.lens+"px",height:n.lens+"px","background-clip":"border-box","border-radius":n.curve+"px",border:n.border+"px solid rgba("+n.borderColor+",0.4)",background:"#eee no-repeat 0 0","background-size":n.zoom+"px","box-shadow":i+"0 0 "+n.spread+"px rgba("+n.shadowColor+","+n.shadow+")","box-sizing":"border-box",cursor:"none",display:"none"}),t(window).on("load scroll resize",function(){c.each(function(){t(this).attr("data-width",t(this).width()),t(this).attr("data-height",t(this).height())})}),c.on("mouseenter touchstart",function(){r=!0,o=t(this),s=t(this).attr("data-hdsrc"),d="undefined"!=typeof s&&s!==!1?t(this).attr("data-hdsrc"):t(this).attr("src"),t(".oddball-lens").css("background-image","url("+d+")"),t(".oddball-lens").stop().show()}),c.on("touchstart",function(){u=!0}),t(window).on("touchstart touchmove mousemove",function(t){r&&(u?(h=t.originalEvent.touches[0].pageX,l=t.originalEvent.touches[0].pageY):(h=t.pageX,l=t.pageY),e(h,l,o))}),t(window).on("touchend",function(){u=!1,r=!1,o=!1,t(".oddball-lens").hide()}))})}}(jQuery);