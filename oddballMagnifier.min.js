/** The Oddball Magnifier v0.0.2 */
!function(t){jQuery.fn.oddballMagnifier=function(o){var e=!1,a={lens:340,curve:340,spread:20,shadow:.1,zoom:1920,border:8,inset:!1,borderColor:"255,255,255",shadowColor:"0,0,0"};return o&&t.extend(a,o),this.each(function(){function o(o,e,n){var d=a.lens/2,s=n.offset().top,r=n.offset().left,h=parseInt(n.attr("data-width")),l=parseInt(n.attr("data-height"));(r>o||o>r+h||s>e||e>s+l)&&(u=!1,i=!1,n=!1,t(".oddball-lens").hide());var c=100/h*(o-r)+"% "+100/l*(e-s)+"%";t(".oddball-lens").css({top:e-d+"px",left:o-d+"px","background-position":c})}var n,d,s,i,r,h,l,c=t(this),u=!1;c.length&&(t(this).attr("data-width",t(this).width()),t(this).attr("data-height",t(this).height()),e||(e=!0,t("body").append("<div class='oddball-lens'></div>")),r=a.inset?"inset ":"",t(".oddball-lens").css({position:"absolute",top:"0",left:"0","z-index":"9999",width:a.lens+"px",height:a.lens+"px","background-clip":"border-box","border-radius":a.curve+"px",border:a.border+"px solid rgba("+a.borderColor+",0.4)",background:"#eee no-repeat 0 0","background-size":a.zoom+"px","box-shadow":r+"0 0 "+a.spread+"px rgba("+a.shadowColor+","+a.shadow+")","box-sizing":"border-box",cursor:"none",display:"none"}),t(window).on("load scroll resize",function(){c.each(function(){t(this).attr("data-width",t(this).width()),t(this).attr("data-height",t(this).height())})}),c.on("mouseenter touchstart",function(){i=!0,n=t(this),s=t(this).attr("data-hdsrc"),d="undefined"!=typeof s&&s!==!1?t(this).attr("data-hdsrc"):t(this).attr("src"),t(".oddball-lens").css("background-image","url("+d+")"),t(".oddball-lens").stop().show()}),c.on("touchstart",function(){u=!0}),t(window).on("touchstart touchmove mousemove",function(t){i&&(u?(h=t.originalEvent.touches[0].pageX,l=t.originalEvent.touches[0].pageY):(h=t.pageX,l=t.pageY),o(h,l,n))}),t(window).on("touchend",function(){u=!1,i=!1,n=!1,t(".oddball-lens").hide()}))})}}(jQuery);