/** The Oddball Magnifier v0.0.2 */
!function(t){jQuery.fn.oddballMagnifier=function(o){function e(o,e,n){c=v.lens/2,g=n.offset().top,u=n.offset().left,b=parseInt(n.attr("data-width")),p=parseInt(n.attr("data-height")),(u>o||o>u+b||g>e||e>g+p)&&(w=!1,x=!1,n=!1,t(".oddball-lens").hide()),i=100/b*(o-u)+"% "+100/p*(e-g)+"%",t(".oddball-lens").css({top:e-c+"px",left:o-c+"px","background-position":i})}var n,a,d,s,i,r,h,l,c,u,b,p,g,f=!1,w=!1,x=!1,v={lens:340,curve:340,spread:20,shadow:.1,zoom:1920,border:8,inset:!1,borderColor:"255,255,255",shadowColor:"0,0,0"};return o&&t.extend(v,o),this.each(function(){n=t(this),n.length&&(t(this).attr("data-width",t(this).width()),t(this).attr("data-height",t(this).height()),f||(f=!0,t("body").append("<div class='oddball-lens'></div>")),r=v.inset?"inset ":"",t(".oddball-lens").css({position:"absolute",top:"0",left:"0","z-index":"9999",width:v.lens+"px",height:v.lens+"px","background-clip":"border-box","border-radius":v.curve+"px",border:v.border+"px solid rgba("+v.borderColor+",0.4)",background:"#eee no-repeat 0 0","background-size":v.zoom+"px","box-shadow":r+"0 0 "+v.spread+"px rgba("+v.shadowColor+","+v.shadow+")","box-sizing":"border-box",cursor:"none",display:"none"}),t(window).on("load scroll resize",function(){n.each(function(){t(this).attr("data-width",t(this).width()),t(this).attr("data-height",t(this).height())})}),n.on("mouseenter touchstart",function(){x=!0,a=t(this),s=t(this).attr("data-hdsrc"),d="undefined"!=typeof s&&s!==!1?t(this).attr("data-hdsrc"):t(this).attr("src"),t(".oddball-lens").css("background-image","url("+d+")"),t(".oddball-lens").stop().show()}),n.on("touchstart",function(){w=!0}),t(window).on("touchstart touchmove mousemove",function(t){x&&(w?(h=t.originalEvent.touches[0].pageX,l=t.originalEvent.touches[0].pageY):(h=t.pageX,l=t.pageY),e(h,l,a))}),t(window).on("touchend",function(){w=!1,x=!1,a=!1,t(".oddball-lens").hide()}))})}}(jQuery);
